local ItemDist = {
  -- 1-3 lvl Weapons SKILL Books
  {
    Distributions = {
      {"Antiques", 0.0001},
      {"CampingStoreBooks", 0.001},
      {"BookstoreBooks", 0.01},
      {"ClassroomDesk", 0.001},
      {"CrateBooks", 0.0001},
      {"LibraryBooks", 0.0001},
      {"LivingRoomShelf", 0.0001},
      {"LivingRoomShelfNoTapes", 0.0001},
      {"Locker", 0.1},
      {"OfficeCounter", 0.0001},
      {"OtherGeneric", 0.001},
      {"RandomFiller", 0.001},
      {"SchoolLockers", 0.001},
      {"ClosetShelfGeneric", 0.01},
      {"GunStoreMagazineRack", 0.001},
      {"WardrobeManClassy", 0.0001},
      {"SurvivalGear", 0.0001},
      {"Hunter", 0.01},
    },
    Items = {
      "prosvita_books.book_prosvita_axes_1",
      "prosvita_books.book_prosvita_axes_2",
      "prosvita_books.book_prosvita_axes_3",
      "prosvita_books.book_prosvita_spears_1",
      "prosvita_books.book_prosvita_spears_2",
      "prosvita_books.book_prosvita_spears_3",
      "prosvita_books.book_prosvita_shortblunt_1",
      "prosvita_books.book_prosvita_shortblunt_2",
      "prosvita_books.book_prosvita_shortblunt_3",
      "prosvita_books.book_prosvita_blunt_1",
      "prosvita_books.book_prosvita_blunt_2",
      "prosvita_books.book_prosvita_blunt_3",
      "prosvita_books.book_prosvita_shortblade_1",
      "prosvita_books.book_prosvita_shortblade_2",
      "prosvita_books.book_prosvita_shortblade_3",
      "prosvita_books.book_prosvita_longblade_1",
      "prosvita_books.book_prosvita_longblade_2",
      "prosvita_books.book_prosvita_longblade_3",
      "prosvita_books.book_prosvita_aiming_1",
      "prosvita_books.book_prosvita_aiming_2",
      "prosvita_books.book_prosvita_aiming_3",
      "prosvita_books.book_prosvita_reloading_1",
      "prosvita_books.book_prosvita_reloading_2",
      "prosvita_books.book_prosvita_reloading_3",
  }
  },


  -- 4-5 lvl Weapons SKILL Books
  {
    Distributions = {
      {"Antiques", 0.000001},
      {"CampingStoreBooks", 0.0001},
      {"BookstoreBooks", 0.001},
      {"CrateBooks", 0.0001},
      {"LibraryBooks", 0.0001},
      {"LivingRoomShelf", 0.00001},
      {"LivingRoomShelfNoTapes", 0.00001},
      {"Locker", 0.0001},
      {"OtherGeneric", 0.00001},
      {"RandomFiller", 0.00001},
      {"ClosetShelfGeneric", 0.0001},
      {"GunStoreMagazineRack", 0.001},
      {"SurvivalGear", 0.0001},
      {"Hunter", 0.01},
    },
    Items = {
      "prosvita_books.book_prosvita_axes_4",
      "prosvita_books.book_prosvita_axes_5",
      "prosvita_books.book_prosvita_spears_4",
      "prosvita_books.book_prosvita_spears_5",
      "prosvita_books.book_prosvita_shortblunt_4",
      "prosvita_books.book_prosvita_shortblunt_5",
      "prosvita_books.book_prosvita_blunt_4",
      "prosvita_books.book_prosvita_blunt_5",
      "prosvita_books.book_prosvita_shortblade_4",
      "prosvita_books.book_prosvita_shortblade_5",
      "prosvita_books.book_prosvita_longblade_4",
      "prosvita_books.book_prosvita_longblade_5",
      "prosvita_books.book_prosvita_aiming_4",
      "prosvita_books.book_prosvita_aiming_5",
      "prosvita_books.book_prosvita_reloading_4",
      "prosvita_books.book_prosvita_reloading_5",
  }
  },


  -- 1-3 lvl Craft SKILL Books
  {
    Distributions = {
      {"MechanicShelfBooks", 0.1},
      {"CampingStoreBooks", 0.01},
      {"BookstoreBooks", 0.01},
      {"ClassroomDesk", 0.001},
      {"CrateBooks", 0.001},
      {"LibraryBooks", 0.0001},
      {"LivingRoomShelf", 0.001},
      {"LivingRoomShelfNoTapes", 0.001},
      {"Locker", 0.1},
      {"OfficeCounter", 0.0001},
      {"OtherGeneric", 0.001},
      {"RandomFiller", 0.001},
      {"SchoolLockers", 0.001},
      {"ClosetShelfGeneric", 0.01},
      {"GunStoreMagazineRack", 0.001},
      {"WardrobeManClassy", 0.0001},
      {"SurvivalGear", 0.0001},
      {"Hunter", 0.01},
    },
    Items = {
      "prosvita_books.book_prosvita_carpentry_1",
      "prosvita_books.book_prosvita_carpentry_2",
      "prosvita_books.book_prosvita_carpentry_3",
      "prosvita_books.book_prosvita_mechanics_1",
      "prosvita_books.book_prosvita_mechanics_2",
      "prosvita_books.book_prosvita_mechanics_3",
      "prosvita_books.book_prosvita_blacksmith_1",
      "prosvita_books.book_prosvita_blacksmith_2",
      "prosvita_books.book_prosvita_blacksmith_3",
      "prosvita_books.book_prosvita_metalwelding_1",
      "prosvita_books.book_prosvita_metalwelding_2",
      "prosvita_books.book_prosvita_metalwelding_3",
      "prosvita_books.book_prosvita_electrician_1",
      "prosvita_books.book_prosvita_electrician_2",
      "prosvita_books.book_prosvita_electrician_3",
  }
  },


  -- 4-5 lvl Craft SKILL Books
  {
    Distributions = {
      {"MechanicShelfBooks", 0.1},
      {"CampingStoreBooks", 0.0001},
      {"BookstoreBooks", 0.001},
      {"CrateBooks", 0.0001},
      {"LibraryBooks", 0.0001},
      {"LivingRoomShelf", 0.00001},
      {"LivingRoomShelfNoTapes", 0.00001},
      {"Locker", 0.0001},
      {"OtherGeneric", 0.00001},
      {"RandomFiller", 0.00001},
      {"ClosetShelfGeneric", 0.001},
      {"SurvivalGear", 0.0001},
      {"Hunter", 0.001},
    },
    Items = {
      "prosvita_books.book_prosvita_carpentry_4",
      "prosvita_books.book_prosvita_carpentry_5",
      "prosvita_books.book_prosvita_mechanics_4",
      "prosvita_books.book_prosvita_mechanics_5",
      "prosvita_books.book_prosvita_blacksmith_4",
      "prosvita_books.book_prosvita_blacksmith_5",
      "prosvita_books.book_prosvita_metalwelding_4",
      "prosvita_books.book_prosvita_metalwelding_5",
      "prosvita_books.book_prosvita_electrician_4",
      "prosvita_books.book_prosvita_electrician_5",
  }
  },



  -- 1-5 lvl Medical SKILL Books
  {
    Distributions = {
      {"MedicalOfficeBooks", 0.01},
      {"DaycareDesk", 0.001},
      {"DaycareShelves", 0.001},
      {"CampingStoreBooks", 0.01},
      {"BookstoreBooks", 0.01},
      {"ClassroomDesk", 0.001},
      {"CrateBooks", 0.0001},
      {"LibraryBooks", 0.0001},
      {"LivingRoomShelf", 0.001},
      {"LivingRoomShelfNoTapes", 0.001},
      {"Locker", 0.001},
      {"OtherGeneric", 0.001},
      {"RandomFiller", 0.001},
      {"SchoolLockers", 0.001},
      {"ClosetShelfGeneric", 0.01},
      {"WardrobeManClassy", 0.0001},
      {"SurvivalGear", 0.0001},
      {"Hunter", 0.01},
    },
    Items = {
      "prosvita_books.book_prosvita_firstaid_1",
      "prosvita_books.book_prosvita_firstaid_2",
      "prosvita_books.book_prosvita_firstaid_3",
      "prosvita_books.book_prosvita_firstaid_4",
      "prosvita_books.book_prosvita_firstaid_5",
  }
  },



  -- 1-5 lvl COOKING, TAILORING, FARMING, FORAGING skill Books
  {
    Distributions = {
      {"CampingStoreBooks", 0.01},
      {"BookstoreBooks", 0.001},
      {"DaycareDesk", 0.001},
      {"DaycareShelves", 0.001},
      {"BookstoreBooks", 0.001},
      {"ClassroomDesk", 0.001},
      {"CrateBooks", 0.001},
      {"LibraryBooks", 0.001},
      {"LivingRoomShelf", 0.001},
      {"LivingRoomShelfNoTapes", 0.001},
      {"Locker", 0.0001},
      {"OtherGeneric", 0.001},
      {"RandomFiller", 0.0001},
      {"ClosetShelfGeneric", 0.01},
      {"WardrobeManClassy", 0.0001},
      {"SurvivalGear", 0.1},
      {"Hunter", 0.01},
    },
    Items = {
      "prosvita_books.book_prosvita_cooking_1",
      "prosvita_books.book_prosvita_cooking_2",
      "prosvita_books.book_prosvita_cooking_3",
      "prosvita_books.book_prosvita_cooking_4",
      "prosvita_books.book_prosvita_cooking_5",
      "prosvita_books.book_prosvita_tailoring_1",
      "prosvita_books.book_prosvita_tailoring_2",
      "prosvita_books.book_prosvita_tailoring_3",
      "prosvita_books.book_prosvita_tailoring_4",
      "prosvita_books.book_prosvita_tailoring_5",
      "prosvita_books.book_prosvita_farming_1",
      "prosvita_books.book_prosvita_farming_2",
      "prosvita_books.book_prosvita_farming_3",
      "prosvita_books.book_prosvita_farming_4",
      "prosvita_books.book_prosvita_farming_5",
  }
  },



  -- 1-5 lvl GYM Strength and Fitness skill Books
  {
    Distributions = {
      {"GymLockers", 0.0001},
    },
    Items = {
      "prosvita_books.book_prosvita_strength_1",
      "prosvita_books.book_prosvita_strength_2",
      "prosvita_books.book_prosvita_strength_3",
      "prosvita_books.book_prosvita_strength_4",
      "prosvita_books.book_prosvita_strength_5",
      "prosvita_books.book_prosvita_fitness_1",
      "prosvita_books.book_prosvita_fitness_2",
      "prosvita_books.book_prosvita_fitness_3",
      "prosvita_books.book_prosvita_fitness_4",
      "prosvita_books.book_prosvita_fitness_5",
  }
  },



  -- next item distribution group
  -- ...
}



local function getLootTable(strLootTableName)
  return ProceduralDistributions.list[strLootTableName]
end

local function insertItem(tLootTable, strItem, iWeight)
  table.insert(tLootTable.items, strItem)
  table.insert(tLootTable.items, iWeight)
end

local function preDistributionMerge()
  for i=1, #ItemDist do
    for j=1, #(ItemDist[i].Distributions) do
      for k=1, #(ItemDist[i].Items) do
        local tLootTable = getLootTable(ItemDist[i].Distributions[j][1])
        local strItem = ItemDist[i].Items[k]
        local iWeight = ItemDist[i].Distributions[j][2]
        insertItem(tLootTable, strItem, iWeight)
      end
    end
  end
end
Events.OnPreDistributionMerge.Add(preDistributionMerge)
